<?php
require_once(dirname(__FILE__)."/../conf/properties.php");
require_once(dirname(__FILE__)."/../model/User.php");

/**
 * Controller for the users
 */
class UsersController{
    
    private $api_users_url;
    
    public function __construct() {
        global $CONF_PROP;
        $this->api_users_url = $CONF_PROP["api_url"] . "users/";
    }
    
    public function getUser($username){
        $api_user_url = $this->api_users_url . $username. "/";
        $result = file_get_contents($api_user_url);
        $json_result = json_decode($result, true);
        $username = $json_result["username"];
        $currentSimulations = $json_result["currentSimulations"];
        $maxSimulations = $json_result["maxSimulations"];
        $user = new User($username, $currentSimulations, $maxSimulations);
        return $user;
    }
}

?>
